script(src="http://ecn.dev.virtualearth.net/mapcontrol/mapcontrol.ashx?v=7.0")
script(src="app.js")

.app(ng-app="halloweenApp")
    .map-ui
        #loginModal.modal.modal-fade(tabindex="-1")
            .modal-dialog.modal-sm
                .modal-content
                    .modal-header
                        h4.modal-title Login
                    .modal-body
                        p#loginError
                        form#userNameForm.form-inline
                            input#userNameInput.form-control(type="text")
                    .modal-footer
                        button#loginButton.btn(type="button") Login
        #map
    table.server-data(ng-controller="ServerDataController")
        tr.row
            td.col-md-4
                h2.table-title Candies
                table.table#candy-table
                    thead
                        tr
                            th Name
                            th Calories
                    tbody
                        tr(ng-repeat="candy in candies")
                            td {{candy.name}}
                            td {{candy.calories}}
            td.col-md-4
                h2.table-title Locations
                table.table#location-table
                    thead
                        tr
                            th Address
                            th Coordinates
                    tbody
                        tr(ng-repeat="location in locations")
                            td {{location.addr}}
                            td {{location.lat | number:2}}&deg;, {{location.lon | number:2}}&deg;
            td.col-md-4
                h2.table-title Users
                table.table#user-table
                    thead
                        tr
                            th Name
                            th Last Location
                    tbody
                        tr(ng-repeat="user in users")
                            td {{user.name}}
                            td {{user.lastLocation.addr}}
